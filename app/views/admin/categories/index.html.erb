<%= render "layouts/adnav" %>
<div class="main mt-4">
  <div class="row">
    <div class="col">
      <h1><b>Categories</b></h1>
    </div>
    <div class="col">
      <%= form_tag({ url: admin_items_path }, { method: :get }) do %>
        <div class="d-flex justify-content-end">
          <%= text_field_tag :search %>
          <%= submit_tag :search, class: "btn btn-success" %> &nbsp;
          <%= link_to "Create New", new_admin_category_path, class: "btn btn-warning btn-lg px-5 form-control" %>
        </div>
      <% end %>
    </div>
  </div>
  <%if alert || notice %>
  <p class="notice"><%= notice %></p>
  <p class="alert"><%= alert %></p>
    <% end %>
  <table class="table table-bordered table-dark table-hover text-center" style="font-size: 15px">
    <thead>
    <tr>
      <th scope="col">Category Name</th>
      <th scope="col">Actions</th>
    </tr>
    </thead>
    <tbody>
    <% unless @categories.present? %>
      <tr class="table-success ">
        <td colspan="2"><p> No record found.</p></td>
      </tr>
    <% else %>
      <% @categories&.each do |category| %>
        <tr class="table-success ">
          <td><%= category.name %></td>
          <td>
            <div class="row">
              <div class="col">
                <%= link_to "Edit", edit_admin_category_path(category), class: "btn btn-primary btn-lg px-0 form-control mt-1" %>
              </div>
              <div class="col">
                <%= form_for category, url: admin_category_path(category), method: :delete do |f| %>
                  <%= f.submit 'Delete',art: { error: "You can't delete this category" }, class: "btn btn-danger btn-lg px-0 form-control mt-1" %>
                <% end %>
              </div>
            </div>
          </td>
        </tr>
      <% end %>
    <% end %>
    </tbody>
  </table>
</div>
